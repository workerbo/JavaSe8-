[导入通用客户端：

​    自动配置类：建立一个异步线程池，属性配置类配置属性。

导入到临时表：以json数据的形式进行保存。AmountRedis在redis中存放数量和进度。

导入到正式表：使用变成性事务

通过Feign调用导入服务获取模板。

1.根据租户ID 和模板代码现在缓存中获取模板配置信息，获取不到就从远程调用。

2.根据配置信息生成模板。





下载、查询、清除导入历史。



在容器启动后通过实现CommandLineRunner接口对校验器存储

校验：

Bean Validation是Java定义的一套基于注解的数据校验规范，目前已经从JSR 303的1.0版本升级到JSR 349的1.1版本，再到JSR 380的2.0版本（2.0完成于2017.08）

要校验穿的参数是否符合规则，但是这种校验的代码会重复很多，所以引入 validator 来校验参数，这样可以省去很多[冗余](https://so.csdn.net/so/search?q=冗余&spm=1001.2101.3001.7020)的代码。



文件格式：

csv是**纯文本文件**，excel不是纯文本，excel包含很多格式信息在里面。 2.csv文件的体积会更小，创建分发读取更加方便，适合存放结构化信息，比如记录的导出





① 调用上述`从文件导入临时表`接口，将数导入临时表，会返回一个批号

② 调用`验证临时表数据`接口，验证数据

③ 调用`从临时表导入正式表`接口，将上一步通过验证的数据导入正式表中

- 补充说明：`从临时表导入正式表`接口只会导入校验通过的数据，可以通过`查询已上传数据`接口查询校验失败的数据，调用更新接口修改错误数据后，再重复②③步



本客户端同时提供了同步导入的方法，仅适用于小数据量的导入