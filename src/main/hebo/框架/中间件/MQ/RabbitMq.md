**RabbitMQ是ActiveMQ的一个很好的替代产品，它是基于主从实现的高可用集群【主从架构】，但它是非分布式的。 \**RabbitMQ一共有三种模式：单机模式、普通集群模式、镜像集群模式。\**** 

 RabbiMQ是用Erang开发的，集群非常方便，因为Erlang天生就是一门分布式语言，但其本身并不支持[负载均衡](https://cloud.tencent.com/product/clb?from=10680)。

 RabbitMQ模式大概分为以下三种:

 (1)单一模式。

 (2)普通模式(默认的集群模式)。只同步元数据。

只是一个普通的集群，而且数据并没有副本，只存储在了一台机器上，只要真实存储数据的机器宕机，系统直接崩溃，因为没有数据可以获取了。

所以可以得出一个结论，这种模式的集群根本不能实现高可用，只能通过负载均衡提高一些MQ的吞吐量，生成环境下是不会使用的。

 (3) 镜像模式(把需要的队列做成镜像队列，存在于多个节点，属于RabbiMQ的HA方案，在对业务可靠性要求较高的场合中比较适用)。 要实现镜像模式，需要先搭建一个普通集群模式，在这个模式的基础上再配置镜像模式以实现高可用。【完全同步】

它和普通集群模式最大的区别在于，queue数据和原数据不再是单独存储在一台机器上，而是同时存储在多台机器上。也就是说每个RabbitMQ实例都有一份镜像数据（副本数据）。每次写入消息的时候都会自动把数据同步到多台实例上去，这样一旦其中一台机器发生故障，其他机器还有一份副本数据可以继续提供服务，也就实现了高可用。

