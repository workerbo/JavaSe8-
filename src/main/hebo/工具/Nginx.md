Nginx不仅可以做Web服务器、做反向代理、负载均衡，还可以做限流系统。



令牌桶算法的原理是系统会以一个恒定的速度往桶里放入令牌，而如果请求需要被处理，则需要先从桶里获取一个令牌，当桶里没有令牌可取时，则拒绝服务。从原理上看，令牌桶算法和漏桶算法是相反的，一个“进水”，一个是“漏水”【水来了都先放进桶里，并以限定的速度出水，当水来得过猛而出水不够快时就会导致水直接溢出，即拒绝服务。】

漏桶的本质是总量控制，令牌桶的本质是速率控制。至于这个控制，你可以用来保护自己，也可以用来保护别人。漏桶的保护是尽量缓存请求（缓存不下才丢），令牌桶的保护主要是丢弃请求（即使系统还能处理，只要超过指定的速率就丢弃，除非此时动态提高速率





location匹配顺序：

首先精确匹配 =-》其次以xx开头匹配^~-》然后是按文件中顺序的正则匹配-》最后是交给 / 通用匹配。



proxy_pass 作用是将匹配到的原始地址，反向代理到另外的HTTP地址。因此，proxy_pass 通常配置为目标URL地址。

root 的作用是将 location 的内容拼接到 root 后面，root 配置的是本地文件夹路径，而不是http路径

alias 作用是将请求地址剔除 location 配置的部分，然后拼接到 root 后面

index  在前后端分离的基础上，通过Nginx配置，指定网站初始页。

web单页面开发模式，只有一个index.html入口，其他路径是前端路由去跳转的，[nginx](https://so.csdn.net/so/search?q=nginx&spm=1001.2101.3001.7020)没有对应这个路径，当然就是404了。

try_files $uri $uri/ /index.html



autoindex on; #开启目录浏览下载功能：连接请求仅在ngx_http_index_module中没有找到主页文件时才会请求这个模块。

 nginx -s reload 重启