

###### ROWID

ROWID是ORACLE中的一个重要的概念。用于定位数据库中一条记录的一个相对唯一地址值。通常情况下，该值在该行数据插入到数据库表时即被确定且唯一。ROWID它是一个伪列，它并不实际存在于表中。它是ORACLE在读取表中数据行时，根据每一行数据的物理地址信息编码而成的一个伪列。所以根据一行数据的ROWID能找到一行数据的物理地址信息。从而快速地定位到数据行。

**B-Tree索引**的每个索引条目具有两个字段。第一个字段表示索引的键值，对于单列索引来说是一个值；而对于多列索引来说则是多个值组合在一起的。第二个字段表示键值所对应的记录行的ROWID。

**索引值→ROWID->将ROWID换算成一行数据的物理地址->得到一行数据**



###### ROWNUM

rownum是Oracle系统顺序分配为从查询返回的行的编号，返回的第一行分配的是1，返回的第二行分配的是2，这个为字段可以用于限制返回查询的总行数，且rownum不可以以任何表的名称作为前缀。是在取数据的时候产生的序号。

```
SELECT t3.staff_name,t3.birthday FROM(
  SELECT t2.*,ROWNUM rn FROM(
    SELECT t1.staff_name,t1.birthday FROM demo.t_staff t1 ORDER BY t1.birthday
  ) t2 WHERE ROWNUM <= (1*3)
) t3 WHERE t3.rn >= ((1-1)*3+1);
```



###### 定位数值 82 的过程

读取 root 节点，判断 82 在 0-120 之间，走左边分支
        读取左边 branch 节点，判断 82 在80-120 之间，走右边分支
        读取右边 leat 节点，在该节点中找到数据 82 及对应的 rowid
        使用 rowid 去物理表中读取记录数据库块（如果是 count 或 仅 select rowid，则不需要本次读取）



小表驱动大表的主要目的是通过减少表连接创建的次数,加快查询速度.

###### 三大范式

1.列不可分割 2.依赖于主键  3.不可传递依赖于主键

###### 索引使用

1.判断是否需要新增索引. 2.索引是否正确被使用。